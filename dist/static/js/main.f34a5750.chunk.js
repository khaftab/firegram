(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(0),r=a.n(c),s=a(16),i=a.n(s),o=(a(50),a(71)),l=(a(51),a(11)),u=a(34),j=a(22);a(60),a(61);j.initializeApp({apiKey:"AIzaSyDgnhOy1-cvN8WMOpw8i5fRHxLqV1MrPuE",authDomain:"ninja-firegram-706f5.firebaseapp.com",databaseURL:"https://ninja-firegram-706f5.firebaseio.com",projectId:"ninja-firegram-706f5",storageBucket:"ninja-firegram-706f5.appspot.com",messagingSenderId:"854401908944",appId:"1:854401908944:web:bd70755c4d410dd71e9ed5"});var d=j.storage(),f=j.firestore(),b=j.firestore.FieldValue.serverTimestamp,m=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){var t=f.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){return t()}}),[e]),{docs:n}},O=a(70),p=a(38),g=a(72),h=a(44);var x=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1],j=m("images").docs;return Object(n.jsxs)(O.a,{className:"d-flex justify-content-center",children:[j&&j.map((function(e){return Object(n.jsx)(p.a,{xs:10,md:5,lg:4,children:Object(n.jsx)(h.a.img,{src:e.url,alt:"uploaded",className:"img-fluid mb-3",onClick:function(){return function(e){r(e),u(!0)}(e.url)},whileHover:{opacity:.9},layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}})},e.id)})),Object(n.jsxs)(g.a,{show:o,onHide:function(){return u(!1)},children:[Object(n.jsx)(g.a.Header,{closeButton:!0}),Object(n.jsx)(g.a.Body,{children:Object(n.jsx)("img",{src:a,alt:"Modal Image",className:"img-fluid"})})]})]})};var v=function(){return Object(n.jsxs)("div",{className:"mt-3",children:[Object(n.jsx)("h2",{className:"text-left",style:{color:"#474787"},children:"Firegram"}),Object(n.jsx)("h3",{className:"text-center mt-5 ",children:"Your Pictures"}),Object(n.jsx)("p",{className:"text-center mt-3 text-secondary",children:"Click here to upload your images"})]})},y=a(73),S=a(33),N=a.n(S),w=a(43),F=function(e){var t=Object(c.useState)(0),a=Object(l.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],j=Object(c.useState)(null),m=Object(l.a)(j,2),O=m[0],p=m[1];return Object(c.useEffect)((function(){var t=d.ref(e.name),a=f.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(Math.round(t))}),(function(e){u(e)}),Object(w.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,p(n),a.add({url:n,createdAt:b()});case 5:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,error:o,url:O}},B=a(74);var I=function(e){var t=e.file,a=e.setFile,c=F(t),r=c.progress,s=c.url;return console.log(r,s),s&&a(null),Object(n.jsx)("div",{children:Object(n.jsx)(B.a,{now:r,label:"".concat(r,"%"),animated:!0})})};var k=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],j=["image/png","image/jpeg"];return Object(n.jsxs)(y.a,{children:[Object(n.jsxs)(y.a.Group,{className:"input-container",children:[Object(n.jsx)(y.a.File,{onChange:function(e){var t=e.target.files[0];t&&j.includes(t.type)?(r(t),u("")):(r(null),u("Please select image file(png or jpeg)"))},className:"file-input"}),Object(n.jsx)("span",{children:"+"})]}),o&&Object(n.jsx)("p",{className:"text-danger",children:o}),a&&Object(n.jsx)("p",{children:a.name}),a&&Object(n.jsx)(I,{file:a,setFile:r})]})};var C=function(){return Object(n.jsxs)(o.a,{className:"App",children:[Object(n.jsx)(v,{}),Object(n.jsx)(k,{}),Object(n.jsx)(x,{})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};a(66);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root")),A()}},[[67,1,2]]]);
//# sourceMappingURL=main.f34a5750.chunk.js.map